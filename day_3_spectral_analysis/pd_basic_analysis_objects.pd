#N canvas 332 328 912 471 12;
#X obj 23 193 env~;
#X obj 256 237 bonk~;
#X obj 17 14 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 17 34 openpanel;
#X obj 91 34 table sample;
#X obj 396 43 tabplay~ sample;
#X msg 17 58 read -resize \$1 sample;
#X obj 17 82 soundfiler;
#X obj 396 19 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 237 54 \; pd dsp \$1;
#X obj 237 12 loadbang;
#X obj 237 34 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X floatatom 23 217 5 0 0 0 - - -, f 5;
#X obj 23 240 dbtorms;
#X floatatom 23 264 5 0 0 0 - - -, f 5;
#X floatatom 288 286 5 0 0 0 - - -, f 5;
#X floatatom 332 287 5 0 0 0 - - -, f 5;
#X obj 288 262 unpack f f f;
#X floatatom 378 287 5 0 0 0 - - -, f 5;
#X obj 256 266 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 731 161 680 476 templates 1;
#X msg 58 197 learn 0;
#X msg 58 227 forget;
#X msg 58 257 write templates.txt;
#X msg 58 287 read templates.txt;
#X msg 58 107 debounce 0;
#X msg 58 137 learn 10;
#X obj 31 402 outlet;
#X text 155 134 Forget all templates and start learning new ones. The
argument gives the number of times you will hit each instrument (10
recommended.) Turn on the output volume above for audible feedback
as you train Bonk. "Learn 0" exits learn mode.;
#X text 155 217 Forget the last template. In Learn mode \, use "forget"
to erase and record over a template.;
#X text 220 253 Write templates to a file in text-editable format.
;
#X text 221 283 Read templates from a file.;
#X text 157 104 Minimum time (msec) between attacks in learn mode;
#X connect 0 0 6 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X restore 270 178 pd templates;
#X text 366 177 // bonk training;
#X msg 335 17 stop;
#X floatatom 537 212 5 0 0 0 - - -, f 5;
#X floatatom 772 211 5 0 0 0 - - -, f 5;
#X obj 772 234 mtof;
#X floatatom 772 258 5 0 0 0 - - -, f 5;
#X floatatom 654 217 5 0 0 0 - - -, f 5;
#X obj 537 235 mtof;
#X floatatom 537 259 5 0 0 0 - - -, f 5;
#X obj 537 188 sigmund~ -hop 4096 pitch env notes;
#X msg 273 210 minvel 90;
#X text 13 131 // envelope follower;
#X text 253 131 // attack detector;
#X text 534 131 // pitch tracker, f 18;
#N canvas 0 89 505 461 output 0;
#X obj 13 106 hsl 42 23 0.01 0.1 1 0 \$0-v \$0-v volume 7 13 1 9 -245500
-13381 -1 0 0;
#X obj 57 106 tgl 18 0 THIS_IS_HERE_TO_GET_RID_OF_THE_OUTLET \$0-dsp-toggle
dsp 2 9 1 9 -225271 -195568 -33289 1 1;
#N canvas 1009 460 429 371 dsp 0;
#X obj 36 30 inlet;
#X obj 117 227 select 0 1;
#X msg 150 252 6;
#X obj 117 86 route dsp;
#X obj 117 59 receive pd;
#X msg 36 228 dsp \$1;
#X obj 36 253 send pd;
#X msg 231 279 set \$1;
#X msg 117 279 color \$1 20 12;
#X obj 231 310 send \$0-dsp-toggle;
#X msg 117 251 0;
#X obj 251 129 loadbang;
#X obj 231 99 sig~ 1;
#X obj 231 191 snapshot~;
#X obj 251 158 delay 100;
#X obj 117 138 change -1;
#X obj 2 2 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 6 3 Retrieve and set DSP state;
#X connect 0 0 5 0;
#X connect 0 0 15 0;
#X connect 1 0 10 0;
#X connect 1 1 2 0;
#X connect 2 0 8 0;
#X connect 3 0 15 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 1 0;
#X connect 13 0 7 0;
#X connect 14 0 13 0;
#X connect 15 0 7 0;
#X connect 15 0 1 0;
#X restore 82 148 pd dsp logic;
#X obj 188 31 inlet~;
#X obj 74 268 line~;
#X obj 174 328 *~;
#X obj 194 358 dac~;
#X text 200 51 audio in;
#X obj 250 31 inlet~;
#X obj 236 327 *~;
#X obj 188 102 hip~ 3;
#X obj 250 102 hip~ 3;
#X obj 10 283 send pd;
#X msg 10 262 dsp 1;
#X obj 74 247 pack 0 50;
#X text 141 246 <-- make a ramp to avoid clicks or zipper noise;
#X msg 74 212 0;
#X obj 74 189 moses 0.011;
#X text 294 103 filter out DC;
#X obj 4 3 cnv 15 425 20 empty empty empty 3 12 0 14 -204280 -1 0;
#X text 14 376 Created by Katja Vetter after an idea by Claude Heiland-Allen
;
#X text 10 3 dac~ and DSP switch;
#X connect 0 0 13 0;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 8 0 11 0;
#X connect 9 0 6 1;
#X connect 10 0 5 1;
#X connect 11 0 9 1;
#X connect 13 0 12 0;
#X connect 14 0 4 0;
#X connect 16 0 14 0;
#X connect 17 0 16 0;
#X connect 17 1 14 0;
#X coords 0 -1 1 1 85 60 1 5 85;
#X restore 550 54 pd output;
#X obj 396 68 s~ analysisInput;
#X obj 536 156 r~ analysisInput;
#X obj 256 153 r~ analysisInput;
#X obj 23 159 r~ analysisInput;
#X obj 551 14 r~ analysisInput;
#X connect 0 0 12 0;
#X connect 1 0 19 0;
#X connect 1 1 17 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 5 0 36 0;
#X connect 5 1 8 0;
#X connect 6 0 7 0;
#X connect 8 0 5 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 17 0 15 0;
#X connect 17 1 16 0;
#X connect 17 2 18 0;
#X connect 20 0 1 0;
#X connect 22 0 5 0;
#X connect 23 0 28 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 28 0 29 0;
#X connect 30 0 23 0;
#X connect 30 1 27 0;
#X connect 30 2 24 0;
#X connect 31 0 1 0;
#X connect 37 0 30 0;
#X connect 38 0 1 0;
#X connect 39 0 0 0;
#X connect 40 0 35 0;
#X connect 40 0 35 1;
